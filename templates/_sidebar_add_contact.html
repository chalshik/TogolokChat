<div class="sidebar-view" id="add-contact-view">
<div class="sidebar-view-header">
    <span class="view-title">Тоголоктакт кошуу</span>
    <button class="close-sidebar-view-btn" data-target-view="chats">&times;</button>
</div>
<div class="sidebar-search">
    <div class="search-container">
        <i class="fas fa-search"></i>
        <input type="text" placeholder="издөө" id="add-contact-search-input">
    </div>
</div>
<div class="contact-list-container scrollable-list">
    <ul class="contact-list" id="add-contact-list">
        <!-- Users will be loaded dynamically -->
        <div id="loading-contacts" class="loading-message">
            <p>Жүктөлүүдө...</p>
        </div>
        <div id="empty-users-message" class="empty-chat-message" style="display: none;">
            <p>Колдонуучулар табылган жок</p>
        </div>
    </ul>
</div>
<div class="sidebar-view-footer">
    <button class="btn btn-primary full-width" id="add-selected-contact-btn" disabled>
        <i class="fas fa-user-plus"></i> Кошуу
    </button>
</div>

<!-- Modal for entering contact display name -->
<div class="modal" id="contact-name-entry-modal" style="z-index: 3000;">
    <div class="modal-content">
        <div class="modal-header">
            <h4>Контакт аты</h4>
            <span class="close-modal-btn">&times;</span>
        </div>
        <div class="modal-body">
            <p>Бул контакт үчүн атты киргизиңиз:</p>
            <div class="selected-user-info">
                <img id="selected-user-avatar" src="/static/images/contact_logo.png" alt="User Avatar">
                <span id="selected-user-username"></span>
            </div>
            <div class="form-group">
                <input type="text" id="new-contact-name-input" class="form-control" placeholder="Контакт аты">
                <small>Бул колдонуучу үчүн жергиликтүү гана ат.</small>
                <input type="hidden" id="selected-user-id">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary cancel-btn">Жокко чыгаруу</button>
            <button class="btn btn-primary" id="confirm-add-contact-btn">Кошуу</button>
        </div>
    </div>
</div>

<!-- Modal for contact details and actions -->
<div class="modal" id="contact-details-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h4>Контакт</h4>
            <span class="close-modal-btn">&times;</span>
        </div>
        <div class="modal-body">
            <div class="contact-details">
                <img id="details-contact-avatar" src="/static/images/contact_logo.png" alt="Contact Avatar">
                <h3 id="details-contact-name"></h3>
                <p id="details-contact-username" class="text-muted"></p>
            </div>
            <div class="contact-actions">
                <button class="btn btn-primary" id="start-chat-btn">
                    <i class="far fa-comment"></i> Маек баштоо
                </button>
                <button class="btn btn-outline-secondary" id="edit-contact-name-btn">
                    <i class="fas fa-pencil-alt"></i> Атын өзгөртүү
                </button>
                <button class="btn btn-outline-danger" id="report-contact-btn">
                    <i class="fas fa-flag"></i> Даттануу
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for editing contact name -->
<div class="modal" id="edit-contact-name-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h4>Контакт атын өзгөртүү</h4>
            <span class="close-modal-btn">&times;</span>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="edit-contact-name-input">Жаңы ат:</label>
                <input type="text" id="edit-contact-name-input" class="form-control">
                <input type="hidden" id="edit-contact-id">
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary cancel-btn">Жокко чыгаруу</button>
            <button class="btn btn-primary" id="save-contact-name-btn">Сактоо</button>
        </div>
    </div>
</div>
</div> 